<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>è¦ªæˆšç¨±å‘¼è¨ˆç®—æ©Ÿ</title>

<link rel="manifest" href="manifest.webmanifest">
<meta name="theme-color" content="#9b111e">
<link rel="icon" href="icons/icon-192.png">

<style>
body{
  font-family:-apple-system,BlinkMacSystemFont,"PingFang TC","Microsoft JhengHei",sans-serif;
  background:#fff7ea;
  margin:0;
  padding:20px;
}
.card{
  max-width:700px;
  margin:auto;
  background:white;
  padding:20px;
  border-radius:12px;
  box-shadow:0 8px 20px rgba(0,0,0,.08);
}
h1{
  margin-top:0;
  color:#9b111e;
}
.grid{
  display:grid;
  grid-template-columns:1fr 60px 1fr 60px 1fr;
  gap:10px;
  align-items:center;
}
select,input{
  padding:10px;
  border-radius:8px;
  border:1px solid #ddd;
  font-size:16px;
}
.result{
  margin-top:15px;
  padding:12px;
  background:#fff3cd;
  border-radius:8px;
}
.toolbar{
  margin-bottom:15px;
  display:flex;
  gap:10px;
}
@media(max-width:600px){
  .grid{grid-template-columns:1fr 1fr;}
}
</style>
</head>

<body>
<div class="card">
<h1>ğŸ§§ è¦ªæˆšç¨±å‘¼è¨ˆç®—æ©Ÿ</h1>

<div class="toolbar">
<select id="selfRole">
<option value="unknown">æˆ‘çš„èº«åˆ†ï¼ˆä¸æŒ‡å®šï¼‰</option>
<option value="husband">æˆ‘æ˜¯ä¸ˆå¤«</option>
<option value="wife">æˆ‘æ˜¯å¦»å­</option>
</select>

<select id="ageMode">
<option value="unknown">å°æ–¹å¹´é½¡ï¼ˆä¸æŒ‡å®šï¼‰</option>
<option value="older">å°æ–¹å¹´é•·</option>
<option value="younger">å°æ–¹å¹´å¹¼</option>
</select>
</div>

<div class="grid">
<select id="a"></select>
<div>ï¼‹</div>
<select id="b"></select>
<div>ï¼</div>
<input id="c" readonly>
</div>

<div class="result" id="explain"></div>

</div>

<script>
// Service Worker
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("./sw.js");
}

// ç¨±è¬‚åˆ—è¡¨
const options=[
"çˆ¸çˆ¸","åª½åª½","çˆºçˆº","å¥¶å¥¶","å¤–å…¬","å¤–å©†",
"å“¥å“¥","å¼Ÿå¼Ÿ","å§Šå§Š","å¦¹å¦¹",
"å…’å­","å¥³å…’",
"è€å…¬","è€å©†","é…å¶",
"ä¼¯çˆ¶","å”å”","å§‘å§‘","èˆ…èˆ…","é˜¿å§¨",
"ä¾„å­","ä¾„å¥³","å¤–ç”¥","å¤–ç”¥å¥³",
"ä¼¯å…¬","å”å…¬","å§‘å©†","èˆ…å…¬","å§¨å©†",
"ä¼¯å©†","å”å©†","èˆ…å©†","å§¨å…¬",
"å«‚å«‚","å¼Ÿåª³","å§Šå¤«","å¦¹å¤«"
];

// åŸºæœ¬è¦å‰‡
const rules={
"çˆ¸çˆ¸|çˆ¸çˆ¸":"çˆºçˆº",
"çˆ¸çˆ¸|åª½åª½":"å¥¶å¥¶",
"åª½åª½|çˆ¸çˆ¸":"å¤–å…¬",
"åª½åª½|åª½åª½":"å¤–å©†",

"çˆ¸çˆ¸|å“¥å“¥":"ä¼¯çˆ¶",
"çˆ¸çˆ¸|å¼Ÿå¼Ÿ":"å”å”",
"çˆ¸çˆ¸|å§Šå§Š":"å§‘å§‘",
"çˆ¸çˆ¸|å¦¹å¦¹":"å§‘å§‘",

"åª½åª½|å“¥å“¥":"èˆ…èˆ…",
"åª½åª½|å¼Ÿå¼Ÿ":"èˆ…èˆ…",
"åª½åª½|å§Šå§Š":"é˜¿å§¨",
"åª½åª½|å¦¹å¦¹":"é˜¿å§¨",

"å“¥å“¥|å…’å­":"ä¾„å­",
"å“¥å“¥|å¥³å…’":"ä¾„å¥³",
"å¼Ÿå¼Ÿ|å…’å­":"ä¾„å­",
"å¼Ÿå¼Ÿ|å¥³å…’":"ä¾„å¥³",
"å§Šå§Š|å…’å­":"å¤–ç”¥",
"å§Šå§Š|å¥³å…’":"å¤–ç”¥å¥³",
"å¦¹å¦¹|å…’å­":"å¤–ç”¥",
"å¦¹å¦¹|å¥³å…’":"å¤–ç”¥å¥³",

// ç¥–è¼©æ—ç³»
"çˆºçˆº|å“¥å“¥":"ä¼¯å…¬",
"çˆºçˆº|å¼Ÿå¼Ÿ":"å”å…¬",
"çˆºçˆº|å§Šå§Š":"å§‘å©†",
"çˆºçˆº|å¦¹å¦¹":"å§‘å©†",

"å¤–å…¬|å“¥å“¥":"èˆ…å…¬",
"å¤–å…¬|å¼Ÿå¼Ÿ":"èˆ…å…¬",
"å¤–å…¬|å§Šå§Š":"å§¨å©†",
"å¤–å…¬|å¦¹å¦¹":"å§¨å©†",

// ç¥–è¼©å§»è¦ª
"ä¼¯å…¬|è€å©†":"ä¼¯å©†",
"å”å…¬|è€å©†":"å”å©†",
"èˆ…å…¬|è€å©†":"èˆ…å©†",
"å§¨å©†|è€å…¬":"å§¨å…¬",

// åŒè¼©å§»è¦ª
"å“¥å“¥|è€å©†":"å«‚å«‚",
"å¼Ÿå¼Ÿ|è€å©†":"å¼Ÿåª³",
"å§Šå§Š|è€å…¬":"å§Šå¤«",
"å¦¹å¦¹|è€å…¬":"å¦¹å¤«",

// å ‚è¡¨ï¼ˆéœ€å¹´é½¡ï¼‰
"ä¼¯çˆ¶|å…’å­":"å ‚",
"ä¼¯çˆ¶|å¥³å…’":"å ‚",
"å”å”|å…’å­":"å ‚",
"å”å”|å¥³å…’":"å ‚",
"å§‘å§‘|å…’å­":"è¡¨",
"å§‘å§‘|å¥³å…’":"è¡¨",
"èˆ…èˆ…|å…’å­":"è¡¨",
"èˆ…èˆ…|å¥³å…’":"è¡¨",
"é˜¿å§¨|å…’å­":"è¡¨",
"é˜¿å§¨|å¥³å…’":"è¡¨"
};

const a=document.getElementById("a");
const b=document.getElementById("b");
const c=document.getElementById("c");
const explain=document.getElementById("explain");
const ageMode=document.getElementById("ageMode");

function fill(){
a.innerHTML=options.map(o=>`<option>${o}</option>`).join("");
b.innerHTML=options.map(o=>`<option>${o}</option>`).join("");
}
fill();

function compute(){
const key=`${a.value}|${b.value}`;
let result=rules[key];

if(result==="å ‚"){
  if(ageMode.value==="older") result="å ‚å“¥/å ‚å§Š";
  else if(ageMode.value==="younger") result="å ‚å¼Ÿ/å ‚å¦¹";
  else result="å ‚å…„å¼Ÿå§Šå¦¹ï¼ˆéœ€å¹´é½¡ï¼‰";
}
if(result==="è¡¨"){
  if(ageMode.value==="older") result="è¡¨å“¥/è¡¨å§Š";
  else if(ageMode.value==="younger") result="è¡¨å¼Ÿ/è¡¨å¦¹";
  else result="è¡¨å…„å¼Ÿå§Šå¦¹ï¼ˆéœ€å¹´é½¡ï¼‰";
}

if(result){
  c.value=result;
  explain.innerHTML=`${a.value} ï¼‹ ${b.value} = <b>${result}</b>`;
}else{
  c.value="";
  explain.innerHTML="å°šæœªå®šç¾©";
}
}

a.onchange=compute;
b.onchange=compute;
ageMode.onchange=compute;
compute();
</script>
</body>
</html>
